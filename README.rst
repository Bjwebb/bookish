Bookish
=======

This project is a work in progress and does very little at the moment.

However, if you really want to run it:

* `Install docker <https://docs.docker.com/installation/>`__
* Create a .env file based on https://github.com/Bjwebb/bookish/blob/master/env.example
* ``docker run --rm --env-file=.env bjwebb/bookish python manage.py migrate``
* ``docker run --rm -ti --env-file=.env bjwebb/bookish python manage.py createsuperuser``
* ``docker run --rm -p 8000:8000 --env-file=.env bjwebb/bookish``
* Visit http://localhost:8000/ in your browser.

If you want to build your own docker image (for example if you want to make local changes and then test):

.. code:: bash

    git clone git@github.com:Bjwebb/bookish.git
    cd bookish
    docker build -t bookish .
    cp env.example .env # and edit
    docker run --rm --env-file=.env bookish python manage.py migrate
    docker run --rm -ti --env-file=.env bookish python manage.py createsuperuser
    docker run --rm -p 8000:8000 --env-file=.env bookish

* Visit http://localhost:8000/ in your browser.

If you want to run the code without docker:

.. code:: bash

    git clone git@github.com:Bjwebb/bookish.git
    cd bookish
    virtualenv pyenv --python=/usr/bin/python3
    source pyenv/bin/activate
    pip install -r requirements.txt
    cp env.example .env # and edit
    python manage.py migrate
    python manage.py createsuperuser
    python manage.py runserver

* Visit http://localhost:8000/ in your browser.


Setting up a postgres database
==============================

.. code:: bash

    sudo -u postgres createuser bookish -P
    sudo -u postgres createdb bookish -O bookish -E utf8

The first command will prompt for a password, it's probably best to use a random one (e.g. generated by ``openssl rand -hex 32``).

